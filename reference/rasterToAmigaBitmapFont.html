<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a raster image into an AmigaBitmapFont — rasterToAmigaBitmapFont • AmigaFFH</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a raster image into an AmigaBitmapFont — rasterToAmigaBitmapFont"><meta name="description" content="Convert a two-coloured grDevices::as.raster() image into
an AmigaBitmapFont() class object."><meta property="og:description" content="Convert a two-coloured grDevices::as.raster() image into
an AmigaBitmapFont() class object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AmigaFFH</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../reference/AmigaFFH-package.html">Package documentation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pepijn-devries/AmigaFFH/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert a raster image into an AmigaBitmapFont</h1>
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/AmigaFFH/blob/master/R/bitmapfont.r" class="external-link"><code>R/bitmapfont.r</code></a></small>
      <div class="d-none name"><code>rasterToAmigaBitmapFont.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert a two-coloured <code><a href="https://rdrr.io/r/grDevices/as.raster.html" class="external-link">grDevices::as.raster()</a></code> image into
an <code><a href="AmigaBitmapFont.html">AmigaBitmapFont()</a></code> class object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rasterToAmigaBitmapFont</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">glyphs</span>,</span>
<span>  <span class="va">default_glyph</span>,</span>
<span>  <span class="va">baseline</span>,</span>
<span>  <span class="va">glyph_width</span>,</span>
<span>  <span class="va">glyph_space</span>,</span>
<span>  <span class="va">glyph_kern</span>,</span>
<span>  <span class="va">palette</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>raster</code> (see grDevices package) object composed of
two colours only. Make sure that all glyphs (graphical representation
of characters) are next to eachother on a single line. The height
of this raster (in pixels) is taken automatically as font height.</p></dd>


<dt id="arg-glyphs">glyphs<a class="anchor" aria-label="anchor" href="#arg-glyphs"></a></dt>
<dd><p>Specify which glyphs are included in the image
<code>x</code> from left to right. It can be specified in one of the
following ways:</p>
<p>A single <code>character</code> string, where the length of the string
(<code>nchar</code>) equals the number of displayed glyphs in <code>x</code>.</p>
<p>A <code>vector</code> of <code>numeric</code> ASCII codes. The length of
the <code>vector</code> should equal the number of displayed glyphs
in <code>x</code>.</p>
<p>A <code>list</code> of either <code>character</code> strings or <code>vector</code> of
<code>numeric</code>s.  The length of the <code>list</code> should equal the
number of displayed glyphs in <code>x</code>. Each element can represent
multiple characters, meaning that the nth element of the list
uses the nth glyph shown in <code>x</code> to represent all the characters
included in that element.</p>
<p>Note that Amiga bitmap fonts represent ASCII characters and may
not include all special characters or symbols.</p></dd>


<dt id="arg-default-glyph">default_glyph<a class="anchor" aria-label="anchor" href="#arg-default-glyph"></a></dt>
<dd><p>A single <code>character</code> or ASCII code
(<code>numeric</code>) that should be used by default. This means
that all characters that are not specified by <code>glyphs</code> will
be represented by this <code>default_glyph</code>. <code>default_glyph</code> should
be included in <code>glyphs</code>.</p></dd>


<dt id="arg-baseline">baseline<a class="anchor" aria-label="anchor" href="#arg-baseline"></a></dt>
<dd><p>The baseline of the font, specified in number of
pixels from the top (<code>numeric</code>). Should be a whole number
between 0 and the font height (height of <code>x</code>) minus 1.</p></dd>


<dt id="arg-glyph-width">glyph_width<a class="anchor" aria-label="anchor" href="#arg-glyph-width"></a></dt>
<dd><p>A <code>numeric</code> <code>vector</code> with the same number
of elements or characters as used for <code>glyphs</code>. It specifies
the width in pixels for each glyph reserved in the raster image <code>x</code>.
They should be whole numbers greater or equal to 0.</p></dd>


<dt id="arg-glyph-space">glyph_space<a class="anchor" aria-label="anchor" href="#arg-glyph-space"></a></dt>
<dd><p>A <code>numeric</code> <code>vector</code> with the same number
of elements or characters as used for <code>glyphs</code>. It specifies
the width in pixels for each glyph that should be used when formatting.
text. Note that these values can be smaller or larger than the values
specified for <code>glyph_width</code>.
They should be whole numbers greater or equal to 0.</p></dd>


<dt id="arg-glyph-kern">glyph_kern<a class="anchor" aria-label="anchor" href="#arg-glyph-kern"></a></dt>
<dd><p>Note that in Amiga bitmap fonts not the formal
definition from typography is used for kerning. Here, kerning is
used as the number of pixels the cursor should be moved forward or
backward after typesetting a character. It should be a
<code>numeric</code> <code>vector</code> with the same number of elements or
characters as used for <code>glyphs</code>. It can hold both positive
and negative values.</p></dd>


<dt id="arg-palette">palette<a class="anchor" aria-label="anchor" href="#arg-palette"></a></dt>
<dd><p>A <code>vector</code> of two colours. Both colours should
be in <code>x</code>. The first colour is used as background colour,
the second as foreground colour.</p>
<p>When missing, it will be checked whether <code>x</code> has a palette
as attribute, and uses that. If that attribute is also missing,
the palette will be guessed from <code>x</code>, where the most
frequently occurring colour is assumed to be the background
colour.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Currently ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code><a href="AmigaBitmapFont.html">AmigaBitmapFont()</a></code> class object based on <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Create an <code><a href="AmigaBitmapFont.html">AmigaBitmapFont()</a></code> class object by providing
a two-coloured raster image and specifying which characters are
depicted by the image.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other AmigaBitmapFont.operations:
<code><a href="AmigaBitmapFont.html">AmigaBitmapFont</a></code>,
<code><a href="availableFontSizes.html">availableFontSizes</a>()</code>,
<code><a href="c.html">c</a>()</code>,
<code><a href="fontName.html">fontName</a>()</code>,
<code><a href="font_example.html">font_example</a></code>,
<code><a href="getAmigaBitmapFont.html">getAmigaBitmapFont</a>()</code>,
<code><a href="rawToAmigaBitmapFontSet.html">rawToAmigaBitmapFontSet</a>()</code>,
<code><a href="rawToAmigaBitmapFont.html">rawToAmigaBitmapFont</a>()</code>,
<code><a href="read.AmigaBitmapFontSet.html">read.AmigaBitmapFontSet</a>()</code>,
<code><a href="read.AmigaBitmapFont.html">read.AmigaBitmapFont</a>()</code>,
<code><a href="write.AmigaBitmapFont.html">write.AmigaBitmapFont</a>()</code></p>
<p>Other raster.operations:
<code><a href="AmigaBitmapFont.html">AmigaBitmapFont</a></code>,
<code><a href="as.raster.html">as.raster.AmigaBasicShape</a>()</code>,
<code><a href="bitmapToRaster.html">bitmapToRaster</a>()</code>,
<code><a href="dither.html">dither</a>()</code>,
<code><a href="index.colours.html">index.colours</a>()</code>,
<code><a href="rasterToAmigaBasicShape.html">rasterToAmigaBasicShape</a>()</code>,
<code><a href="rasterToBitmap.html">rasterToBitmap</a>()</code>,
<code><a href="rasterToHWSprite.html">rasterToHWSprite</a>()</code>,
<code><a href="rasterToIFF.html">rasterToIFF</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Pepijn de Vries</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"font_example"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## make a raster that we can use to create a bitmap font</span></span></span>
<span class="r-in"><span><span class="va">font9.rast</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.raster.html">as.raster</a></span><span class="op">(</span><span class="fu"><a href="getAmigaBitmapFont.html">getAmigaBitmapFont</a></span><span class="op">(</span><span class="va">font_example</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## note the glyphs and the order in which they are included in</span></span></span>
<span class="r-in"><span><span class="co">## the raster image:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">font9.rast</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="rasterToAmigaBitmapFont-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## let's build a simple font, using only the first few glyphs</span></span></span>
<span class="r-in"><span><span class="co">## in the raster:</span></span></span>
<span class="r-in"><span><span class="va">font9</span> <span class="op">&lt;-</span> <span class="fu">rasterToAmigaBitmapFont</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="co">## 'x' needs the raster image:</span></span></span>
<span class="r-in"><span>  x             <span class="op">=</span> <span class="va">font9.rast</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## 'glyphs' are the graphical representation of the characters</span></span></span>
<span class="r-in"><span>  <span class="co">## that we will include in our font. We will only use the</span></span></span>
<span class="r-in"><span>  <span class="co">## first 7 characters in the raster image:</span></span></span>
<span class="r-in"><span>  glyphs        <span class="op">=</span> <span class="st">" !\"#$%&amp;"</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## We will use the '&amp;' glyph to represent all characters that</span></span></span>
<span class="r-in"><span>  <span class="co">## are not specified in the font:</span></span></span>
<span class="r-in"><span>  default_glyph <span class="op">=</span> <span class="st">"&amp;"</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## The raster image is 9 pixels tall, as will be the font.</span></span></span>
<span class="r-in"><span>  <span class="co">## Let's use 7 as the base (it needs to be less than the height)</span></span></span>
<span class="r-in"><span>  baseline      <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## Let's define the width in pixels for each of the 7</span></span></span>
<span class="r-in"><span>  <span class="co">## characters. This is their width in the raster image:</span></span></span>
<span class="r-in"><span>  glyph_width   <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## Let's define the space the character should take in pixels</span></span></span>
<span class="r-in"><span>  <span class="co">## when it is used to format text:</span></span></span>
<span class="r-in"><span>  glyph_space   <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">## the raster uses white as background colour and black as</span></span></span>
<span class="r-in"><span>  <span class="co">## foreground:</span></span></span>
<span class="r-in"><span>  palette       <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"black"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## note that for all characters that are not specified,</span></span></span>
<span class="r-in"><span><span class="co">## the default glyph ('&amp;') is used:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">font9</span>, text <span class="op">=</span> <span class="st">"!@#$%ABCD"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="rasterToAmigaBitmapFont-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Let's take a subset from the font's bitmap (rasteer):</span></span></span>
<span class="r-in"><span><span class="va">font9abc.rast</span> <span class="op">&lt;-</span> <span class="va">font9.rast</span><span class="op">[</span>,<span class="fl">263</span><span class="op">:</span><span class="fl">282</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## as you can see this bitmap only contains the lowercase</span></span></span>
<span class="r-in"><span><span class="co">## characters 'a', 'b', 'c', 'd' and 'e':</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">font9abc.rast</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="rasterToAmigaBitmapFont-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">font9.abc</span> <span class="op">&lt;-</span> <span class="fu">rasterToAmigaBitmapFont</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x             <span class="op">=</span> <span class="va">font9abc.rast</span>,</span></span>
<span class="r-in"><span>  <span class="co">## Each glyph in the image can be represented by a single</span></span></span>
<span class="r-in"><span>  <span class="co">## element in a list. By specifying multiple characters in</span></span></span>
<span class="r-in"><span>  <span class="co">## each element, you can recycle a glyph to represent different</span></span></span>
<span class="r-in"><span>  <span class="co">## characters. So in this case, the glyph 'a' is used for</span></span></span>
<span class="r-in"><span>  <span class="co">## all the accented variants of the character 'a'.</span></span></span>
<span class="r-in"><span>  glyphs        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"a\ue0\ue1\ue2\ue3\ue4\ue5"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"b"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"c\ua2\ue7"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"d"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"e\ue8\ue9\uea\ueb"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  default_glyph <span class="op">=</span> <span class="st">"c"</span>, <span class="co">## 'c' is used as default glyph for all other characters</span></span></span>
<span class="r-in"><span>  baseline      <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  glyph_width   <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  glyph_space   <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  palette       <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"black"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## see what happens when you format text using the font we just created:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">font9.abc</span>, text <span class="op">=</span> <span class="st">"a\uE0\uE1\uE2\uE3\uE4\uE5\uA2\uE7\uE8\uE9\uEA\uEB, foo bar"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="rasterToAmigaBitmapFont-4.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

